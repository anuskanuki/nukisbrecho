<ng-container *ngIf="isAdminNewUser">
    <h3>Novo Usuário</h3>

    <form nz-form [formGroup]="formNewUser" (ngSubmit)="submitNewUser()">
        <div nz-row [nzGutter]="18">
            <div nz-col nzSpan="12">
                <div nz-col nzSpan="15">
                    <nz-form-item class="grid">
                        <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">Nome<span
                                class="required-mark">*</span>
                        </nz-form-label>
                        <nz-form-control [nzErrorTip]="validations">
                            <input formControlName="name" nz-input placeholder="Insira seu nome completo" required
                                minlength="2" maxlength="40" />
                        </nz-form-control>
                    </nz-form-item>
                </div>

                <div nz-col nzSpan="15">
                    <nz-form-item class="grid">
                        <nz-form-label [nzNoColon]="true" class="label">E-mail<span class="required-mark">*</span>
                        </nz-form-label>
                        <nz-form-control [nzErrorTip]="validations">
                            <input formControlName="email" nz-input placeholder="exemplo@gmail.com" minlength="10"
                                maxlength="50" required />
                        </nz-form-control>
                    </nz-form-item>
                </div>

                <div nz-col nzSpan="24">
                    <nz-form-item class="grid">
                        <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">Permissão<span
                                class="required-mark">*</span>
                        </nz-form-label>

                        <nz-form-control>
                            <nz-radio-group formControlName="isAdmin" [(ngModel)]="radioValueIsAdmin">
                                <label nz-radio [nzValue]="false">Usuário</label>
                                <label nz-radio [nzValue]="true">Administrador</label>
                            </nz-radio-group>
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </div>
        </div>

        <div nz-row>
            <nz-divider nz-col nzSpan="12" nzText="Endereço" nzOrientation="left"></nz-divider>
        </div>

        <div nz-row [nzGutter]="24">
            <div nz-col nzSpan="4">
                <nz-form-item class="grid">
                    <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">Rua<span
                            class="required-mark">*</span>
                    </nz-form-label>
                    <nz-form-control formGroupName="address" [nzErrorTip]="validations">
                        <input formControlName="street" nz-input placeholder="Rua Exemplo da Silva" required
                            minlength="1" maxlength="70" />
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div nz-col nzSpan="2">
                <nz-form-item class="grid">
                    <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">Número<span
                            class="required-mark">*</span>
                    </nz-form-label>
                    <nz-form-control formGroupName="address" [nzErrorTip]="validations">
                        <input formControlName="number" type="number" nz-input placeholder="123" required minlength="1"
                            maxlength="10" />
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div nz-col nzSpan="4">
                <nz-form-item class="grid">
                    <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">Bairro<span
                            class="required-mark">*</span>
                    </nz-form-label>
                    <nz-form-control formGroupName="address" [nzErrorTip]="validations">
                        <input formControlName="neighborhood" nz-input placeholder="Bairro Exemplo" required
                            minlength="1" maxlength="30" />
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>

        <div nz-row [nzGutter]="24">
            <div nz-col nzSpan="4">
                <nz-form-item class="grid">
                    <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">CEP<span
                            class="required-mark">*</span>
                    </nz-form-label>
                    <nz-form-control formGroupName="address" [nzErrorTip]="validations">
                        <input formControlName="zipCode" type="number" nz-input placeholder="Apenas números" required />
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div nz-col nzSpan="2">
                <nz-form-item class="grid">
                    <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">Estado<span
                            class="required-mark">*</span>
                    </nz-form-label>
                    <nz-form-control formGroupName="address" [nzErrorTip]="validations">
                        <nz-select formControlName="state" nzPlaceHolder="UF" nzShowSearch>
                            <nz-option nzAllowClear *ngFor="let uf of statesArray" [nzValue]="uf" [nzLabel]="uf">
                            </nz-option>
                        </nz-select>
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div nz-col nzSpan="4">
                <nz-form-item class="grid">
                    <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">Cidade<span
                            class="required-mark">*</span>
                    </nz-form-label>
                    <nz-form-control formGroupName="address" [nzErrorTip]="validations">
                        <input formControlName="city" nz-input placeholder="Cidade" required minlength="1"
                            maxlength="40" />
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>

        <div nz-row [nzGutter]="24">
            <div nz-col nzSpan="4">
                <nz-form-item class="grid">
                    <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">Complemento
                    </nz-form-label>
                    <nz-form-control formGroupName="address">
                        <input formControlName="addressDetails" nz-input placeholder="Casa/Apto..." maxlength="50" />
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>

        <div nz-row>
            <nz-divider nz-col nzSpan="12" nzText="Autenticação" nzOrientation="left"></nz-divider>
        </div>

        <div nz-col nzSpan="6">
            <nz-form-item class="grid">
                <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">Senha<span
                        class="required-mark">*</span>
                </nz-form-label>

                <nz-form-control [nzErrorTip]="validations">
                    <nz-input-group [nzSuffix]="suffixTemplate">
                        <input formControlName="password" nz-input [type]="passwordVisible ? 'text' : 'password'"
                            placeholder="Senha" required />
                    </nz-input-group>
                </nz-form-control>
            </nz-form-item>
        </div>

        <div nz-row nzJustify="center" nzAlign="middle">
            <div nz-col nzSpan="12">
                <button (click)="back()">Voltar</button>
            </div>

            <div class="button-enviar" nz-col nzSpan="12">
                <button type="submit" [disabled]="formNewUser.invalid || !formNewUser.dirty">Enviar</button>
            </div>
        </div>
    </form>
</ng-container>

<ng-container *ngIf="!isAdminNewUser">
    <h3>Perfil</h3>

    <form nz-form [formGroup]="form" (ngSubmit)="submitUpdateUser()">
        <div nz-row [nzGutter]="18">
            <div nz-col nzSpan="12">
                <div nz-col nzSpan="15">
                    <nz-form-item class="grid">
                        <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">Nome<span
                                class="required-mark">*</span>
                        </nz-form-label>
                        <nz-form-control [nzErrorTip]="validations">
                            <input formControlName="name" nz-input placeholder="Insira seu nome completo" required
                                minlength="2" maxlength="40" />
                        </nz-form-control>
                    </nz-form-item>
                </div>

                <div nz-col nzSpan="15">
                    <nz-form-item class="grid">
                        <nz-form-label [nzNoColon]="true" class="label">E-mail<span class="required-mark">*</span>
                        </nz-form-label>
                        <nz-form-control [nzErrorTip]="validations">
                            <input formControlName="email" nz-input placeholder="exemplo@gmail.com" minlength="10"
                                maxlength="50" required />
                        </nz-form-control>
                    </nz-form-item>
                </div>
            </div>
        </div>

        <div nz-row>
            <nz-divider nz-col nzSpan="12" nzText="Endereço" nzOrientation="left"></nz-divider>
        </div>

        <div nz-row [nzGutter]="24">
            <div nz-col nzSpan="4">
                <nz-form-item class="grid">
                    <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">Rua<span
                            class="required-mark">*</span>
                    </nz-form-label>
                    <nz-form-control formGroupName="address" [nzErrorTip]="validations">
                        <input formControlName="street" nz-input placeholder="Rua Exemplo da Silva" required
                            minlength="1" maxlength="70" />
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div nz-col nzSpan="2">
                <nz-form-item class="grid">
                    <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">Número<span
                            class="required-mark">*</span>
                    </nz-form-label>
                    <nz-form-control formGroupName="address" [nzErrorTip]="validations">
                        <input formControlName="number" type="number" nz-input placeholder="123" required minlength="1"
                            maxlength="10" />
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div nz-col nzSpan="4">
                <nz-form-item class="grid">
                    <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">Bairro<span
                            class="required-mark">*</span>
                    </nz-form-label>
                    <nz-form-control formGroupName="address" [nzErrorTip]="validations">
                        <input formControlName="neighborhood" nz-input placeholder="Bairro Exemplo" required
                            minlength="1" maxlength="30" />
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>

        <div nz-row [nzGutter]="24">
            <div nz-col nzSpan="4">
                <nz-form-item class="grid">
                    <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">CEP<span
                            class="required-mark">*</span>
                    </nz-form-label>
                    <nz-form-control formGroupName="address" [nzErrorTip]="validations">
                        <input formControlName="zipCode" type="number" nz-input placeholder="Apenas números" required />
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div nz-col nzSpan="2">
                <nz-form-item class="grid">
                    <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">Estado<span
                            class="required-mark">*</span>
                    </nz-form-label>
                    <nz-form-control formGroupName="address" [nzErrorTip]="validations">
                        <nz-select formControlName="state" nzPlaceHolder="UF" nzShowSearch>
                            <nz-option nzAllowClear *ngFor="let uf of statesArray" [nzValue]="uf" [nzLabel]="uf">
                            </nz-option>
                        </nz-select>
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div nz-col nzSpan="4">
                <nz-form-item class="grid">
                    <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">Cidade<span
                            class="required-mark">*</span>
                    </nz-form-label>
                    <nz-form-control formGroupName="address" [nzErrorTip]="validations">
                        <input formControlName="city" nz-input placeholder="Cidade" required minlength="1"
                            maxlength="40" />
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>

        <div nz-row [nzGutter]="24">
            <div nz-col nzSpan="4">
                <nz-form-item class="grid">
                    <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">Complemento
                    </nz-form-label>
                    <nz-form-control formGroupName="address">
                        <input formControlName="addressDetails" nz-input placeholder="Casa/Apto..." maxlength="50" />
                    </nz-form-control>
                </nz-form-item>
            </div>
        </div>

        <div nz-row>
            <nz-divider nz-col nzSpan="12" nzText="Autenticação" nzOrientation="left"></nz-divider>
        </div>

        <div nz-col nzSpan="6">
            <nz-form-item class="grid">
                <nz-form-label [nzNoColon]="true" nzNoColon="false" class="label">Senha<span
                        class="required-mark">*</span>
                </nz-form-label>

                <nz-form-control [nzErrorTip]="validations">
                    <nz-input-group [nzSuffix]="suffixTemplate">
                        <input formControlName="password" nz-input [type]="passwordVisible ? 'text' : 'password'"
                            placeholder="Senha" required />
                    </nz-input-group>
                </nz-form-control>
            </nz-form-item>
        </div>

        <div nz-row nzJustify="center" nzAlign="middle">
            <div nz-col nzSpan="12">
                <button (click)="back()">Voltar</button>
            </div>

            <div class="button-enviar" nz-col nzSpan="12">
                <button type="submit" [disabled]="form.invalid || !form.dirty">Enviar</button>
            </div>
        </div>
    </form>
</ng-container>

<ng-template #validations let-control>
    <ng-container *ngIf="control.hasError('maxlength')">O limite de caracteres é
        {{control.errors.maxlength.requiredLength}}
    </ng-container>
    <ng-container *ngIf="control.hasError('minlength')">O mínimo de caracteres é
        {{control.errors.minlength.requiredLength}}</ng-container>
    <ng-container *ngIf="control.hasError('required')">O campo é Requerido</ng-container>
</ng-template>

<ng-template #suffixTemplate>
    <i nz-icon [nzType]="passwordVisible ? 'eye-invisible' : 'eye'" (click)="passwordVisible = !passwordVisible"></i>
</ng-template>