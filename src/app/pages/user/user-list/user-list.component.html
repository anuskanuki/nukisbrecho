<div nz-row [nzGutter]="[24,24]">
    <div nz-col nzSpan="24">
        <div nz-row>
            <h3 class="page-titile">Usuários</h3>
        </div>
    </div>

    <div nz-col nzSpan="24">
        <nz-table #usersTable [nzData]="userList">
            <thead>
                <tr>
                    <th>Nome completo</th>
                    <th>E-mail</th>
                    <th>Cidade - UF</th>
                    <th>Permissão</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let user of usersTable.data">
                    <td>
                        <ng-container *ngIf="user.isAdmin then templateAdminClaim else templateUserClaim">
                        </ng-container>

                        <ng-template #templateAdminClaim>
                            <span>Admin</span>
                        </ng-template>

                        <ng-template #templateUserClaim>
                            <span>Usuário</span>
                        </ng-template>
                    </td>
                    <td>{{ user.name }}</td>
                    <td>{{ user.email }}</td>
                    <!-- <td>{{ user.address?.city }}-{{user.address?.state}}</td> -->
                    <td>{{ user.isActive }}</td>
                    <td>{{ user.isAdmin }}</td>

                    <td [nzAlign]="'center'">
                        <nz-space>
                            <ng-template #iconTpl>
                                <i nz-icon nzType="question-circle-o" style="color: red;"></i>
                            </ng-template>

                            <a *nzSpaceItem nz-popconfirm nzPopconfirmTitle="Deseja mesmo deletar o usuário?"
                                [nzIcon]="iconTpl"
                                (nzOnConfirm)="delete(user.id, user.name ||'selecionado')">
                                <i class="delete-icon" nz-icon nzType="delete" nzTheme="outline"></i>
                            </a>
                        </nz-space>
                    </td>
                </tr>
            </tbody>
        </nz-table>
    </div>
</div>

<div nz-row nzAlign="bottom">
    <button nz-button nzType="primary" (click)="back()">voltar</button>
</div>