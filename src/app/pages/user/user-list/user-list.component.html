<div nz-row [nzGutter]="[24,24]">
    <div nz-col nzSpan="24">
        <div nz-row>
            <span class="page-titile">Usuários</span>
        </div>
    </div>

    <div nz-col nzSpan="24">
        <div nz-row>
            <button nz-button nzType="primary" (click)="newUser()">novo usuário</button>
        </div>
    </div>

    <div nz-col nzSpan="24">
        <nz-table #usersTable [nzData]="userList">
            <thead>
                <tr>
                    <th>claim</th>
                    <th>completeName</th>
                    <th>completeAddress</th>
                    <th>email</th>
                    <th>mobileNumber</th>
                    <th>ações</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let product of usersTable.data">
                    <td>
                        <ng-container *ngIf="product.claim==1 then templateAdminClaim else templateUserClaim">
                        </ng-container>

                        <ng-template #templateAdminClaim>
                            <span>Admin</span>
                        </ng-template>

                        <ng-template #templateUserClaim>
                            <span>Usuário</span>
                        </ng-template>
                    </td>
                    <td>{{ product.completeName }}</td>
                    <td>{{ product.completeAddress }}</td>
                    <td>{{ product.email }}</td>
                    <td>{{ product.mobileNumber }}</td>

                    <td [nzAlign]="'center'">
                        <nz-space>
                            <a *nzSpaceItem (click)="edit(product.id)">
                                <i class="edit-icon" nz-icon nzType="edit" nzTheme="outline"></i>
                            </a>

                            <ng-template #iconTpl>
                                <i nz-icon nzType="question-circle-o" style="color: red;"></i>
                            </ng-template>

                            <a *nzSpaceItem nz-popconfirm nzPopconfirmTitle="Deseja mesmo deletar o usuário?"
                                [nzIcon]="iconTpl"
                                (nzOnConfirm)="delete(product.id, product.completeName ||'selecionado')">
                                <i class="delete-icon" nz-icon nzType="delete" nzTheme="outline"></i>
                            </a>
                        </nz-space>
                    </td>
                </tr>
            </tbody>
        </nz-table>
    </div>
</div>

<div nz-row nzAlign="bottom">
    <button nz-button nzType="primary" (click)="back()">voltar</button>
</div>